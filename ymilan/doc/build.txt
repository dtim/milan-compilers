Сборка компилятора и виртуальной машины Милана
==============================================

1. Установка необходимых программ
---------------------------------

 * Если вы пользуетесь Linux, установите gcc, make, flex, bison, входящие в ваш дистрибутив
   (или убедитесь, что они уже установлены).

 * Если вы используете Windows:

   1) Скачайте с сайта http://gnuwin32.sourceforge.net инсталляторы последних версий flex и bison.
   2) Установите flex и bison. Рекомендуется устанавливать их в каталог, имя и путь к которому
      не содержат пробелов (например, C:\GnuWin32), в противном случае могут возникнуть проблемы
      при запуске bison.
   3) Пропишите подкаталог bin каталога, куда были установлены программы (например, C:\GnuWin32\bin)
      в переменную окружения PATH.

2. Сборка компилятора
---------------------

  Исходные тексты компилятора находятся в подкаталоге compiler.

  * Если вы используете Linux, перейдите в каталог compiler и выполните команду

    make

    Будет создан исполняемый файл milan.

  * Если вы используете Windows и Visual Studio:
  
    1) Перейдите в каталог compiler.
    2) Выполните команду 

       flex lexer.l

       При этом будет сгенерирован исходный текст лексического анализатора на языке C.

    3) Выполните команду

       bison -d parser.y

       При этом будет сгенерирован исходный текст синтаксического анализатора на языке C
       и заголовочный файл с объявлениями лексем.

    4) В Visual Studio создайте новый проект (консольное приложение Windows), добавьте в него
       все файлы *.h и *.c из каталога compiler (в том числе автоматически сгенерированные).

    5) Соберите проект. Вы получите исполняемый файл milan.exe в каталоге, определяемом конфигурацией
       проекта.

3. Сборка виртуальной машины
----------------------------

  Исходные тексты виртуальной машины находятся в подкаталоге vm. Сборка осуществляется аналогично сборке
  компилятора, с двумя исключениями:

  1) Чтобы сгенерировать лексический анализатор, нужно выполнить команду

     flex vmlex.l

  2) Чтобы сгенерировать синтаксический анализатор, нужно выполнить команду

     bison -d vmparse.y

4. Дальнейшие действия
----------------------

  При выполнении курсовой работы вам будет необходимо изменять исходные тексты компилятора. Для того, чтобы
  поменять что-то в лексическом или синтаксическом анализаторе, изменения нужно вносить не в автоматически
  сгенерированные файлы, а в исходные lexer.l и parser.y. Не забывайте заново генерировать код с помощью
  flex и bison. То же самое применимо к исходным текстам виртуальной машины, если вы решите внести изменения
  и в нее.

5. Контактная информация
------------------------

  Все вопросы, связанные с этой версией компилятора Милана и проблемами, которые могут возникнуть при работе
  над ним, можно обсудить со мной по электронной почте или лично.

  E-mail: dtim@dcn.ftk.spbstu.ru

  Тимофеев Дмитрий Андреевич
